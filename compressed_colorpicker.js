function obtenerID(e){var o=document.getElementById(e);return o}function setBackgroundColor(e,o){obtenerID(o).style.backgroundColor="rgb("+e[0]+","+e[1]+","+e[2]+")"}function comprobarRGB(e){for(var o=0;3>o;o++)isNaN(e[o])||e[o]<0?e[o]=0:e[o]>255&&(e[o]=255)}function comprobarHSV(e){for(var o=0;3>o;o++)(isNaN(e[o])||e[o]<0)&&(e[o]=0);e[0]>360&&(e[0]=360),e[1]>1&&(e[1]=1),e[2]>1&&(e[2]=1)}function HSVtoRGB(e){comprobarHSV(e);var o,t,r,n=e[2]*e[1],a=n*(1-Math.abs(e[0]/60%2-1)),i=e[2]-n;return e[0]>=0&&e[0]<60?(o=n,t=a,r=0):e[0]<120?(o=a,t=n,r=0):e[0]<180?(o=0,t=n,r=a):e[0]<240?(o=0,t=a,r=n):e[0]<300?(o=a,t=0,r=n):e[0]<=360&&(o=n,t=0,r=a),o=Math.round(255*(o+i)),t=Math.round(255*(t+i)),r=Math.round(255*(r+i)),[o,t,r]}function RGBtoHSV(e){comprobarRGB(e);var o,t,r,n,a,i=e[0]/255,l=e[1]/255,s=e[2]/255;return r=Math.max(i,l,s),n=Math.min(i,l,s),a=r-n,0!=a?(r==i?(o=(l-s)/a%6,0>o&&(o=6+o)):o=r==l?(s-i)/a+2:(i-l)/a+4,o*=60,t=a/r):(o=360,t=0),[o,t,r]}function RGBtoHEX(e){comprobarRGB(e);var o=Number(e[0]).toString(16);1==o.length&&(o="0"+o);var t=Number(e[1]).toString(16);1==t.length&&(t="0"+t);var r=Number(e[2]).toString(16);return 1==r.length&&(r="0"+r),(o+t+r).toUpperCase()}function HEXtoRGB(e){return[parseInt("0x"+e.substring(0,2),16),parseInt("0x"+e.substring(2,4),16),parseInt("0x"+e.substring(4,6),16)]}function invertRGB(e){return[255-e[0],255-e[1],255-e[2]]}function webSafeColor(e){for(var o,t=[],r=0;3>r;r++)o=e[r]%51,t[r]=e[r]-o,o>=25.5&&(t[r]=t[r]+51);return t}function hsv2hsl(e,o,t){var r=(r=(2-o)*t)>=1?2-r:r;return 0==r&&(r=1),[e,o*t/r,(2-o)*t/2]}function makeInvisible(e){e.style.visibility="hidden",e.style.opacity="0"}function makeVisible(e){e.style.visibility="visible",e.style.opacity="1"}function pointerPosition(e,o){var t=obtenerID("colorCursor");4>=o&&(o=4),4>=e&&(e=4),t.style.top=o-8+"px",t.style.left=e-8+"px"}function selectorPosition(e){2>=e&&(e=2),obtenerID("hueCursor").style.top=e-4+"px"}function getPosSquare(e){var o=obtenerID("pickboard"),t=e.clientX-o.getBoundingClientRect().left,r=e.clientY-o.getBoundingClientRect().top;return 0>=t?t=0:t>=pickboardHeight&&(t=pickboardHeight),0>=r?r=0:r>=pickboardHeight&&(r=pickboardHeight),[t,r]}function getPosHue(e){var o=e.clientY-obtenerID("huebar").getBoundingClientRect().top;return 0>=o?o=0:o>=huebarHeight&&(o=huebarHeight),o}function generarShades(e,o){var t=RGBtoHSV(HEXtoRGB(e)),o=obtenerID(o);if(t[2]>1/7){o.innerHTML="";for(var r=1;7>=r;r++)crearShade(RGBtoHEX(HSVtoRGB([t[0],t[1],t[2]*r/7])),o)}else o.innerHTML="Shades of #"+e+" are identical"}function generarLights(e,o){var t=HEXtoRGB(e),o=obtenerID(o);if((t[0]+t[1]+t[2])/3<229.5){o.innerHTML="";for(var r=1;7>=r;r++)crearShade(RGBtoHEX([Math.round(255-(255-t[0])*r/7),Math.round(255-(255-t[1])*r/7),Math.round(255-(255-t[2])*r/7)]),o)}else o.innerHTML="Lights of #"+e+" are identical"}function rellenarCodigosGenerados(e,o,t,r){obtenerID("hexCodes-color").value="color: #"+t+";",obtenerID("hexCodes-background").value="background-color: #"+t+";",obtenerID("rgbCodes-color").value="color: rgb("+e[0]+","+e[1]+","+e[2]+");",obtenerID("rgbCodes-background").value="background-color: rgb("+e[0]+","+e[1]+","+e[2]+");",obtenerID("hslCodes-color").value="color: hsl("+Math.round(r[0])+","+Math.round(100*r[1])+"%,"+Math.round(100*r[2])+"%);",obtenerID("hslCodes-background").value="background-color: hsl("+Math.round(r[0])+","+Math.round(100*r[1])+"%,"+Math.round(100*r[2])+"%);",makeVisible(obtenerID("html-css-codes")),setBackgroundColor(e,"muestra-extended"),obtenerID("html-extended-color").innerHTML="#"+t+", ("+e[0]+","+e[1]+","+e[2]+")",obtenerID("shades-title").innerHTML="Shades of #"+t,generarShades(t,"extended-shades"),obtenerID("lights-title").innerHTML="Lights of #"+t,generarLights(t,"extended-lights")}function coloresALosInput(e,o,t){obtenerID(hueId).value=Math.round(e[0]),obtenerID(satId).value=Math.round(100*e[1]),obtenerID(valId).value=Math.round(100*e[2]),obtenerID(redId).value=o[0],obtenerID(greenId).value=o[1],obtenerID(blueId).value=o[2],obtenerID(hexId).value=t}function mostrarColores(e,o,t){coloresALosInput(e,o,t),setBackgroundColor(o,"nuevo"),setBackgroundColor(HSVtoRGB([e[0],1,1]),"pickboard"),setBackgroundColor(webSafeColor(o),"safeColor")}function salidaColor(e,o,t){mostrarColores(e,o,t),pointerPosition(e[1]*pickboardHeight,(1-e[2])*pickboardHeight),selectorPosition((1-e[0]/360)*huebarHeight)}function oldColor(e,o){o||setBackgroundColor(e,"viejo")}function guardarColor(e,o){var t=6;if(void 0!=o){var r=o.getElementsByTagName("div");r.length>=t&&o.removeChild(r[t-1]);var n=crearColor(e,o);o.insertBefore(n,r[0])}}function crearColor(e){var o=document.createElement("div");o.className="saved-color",o.style.backgroundColor="#"+e;var t=document.createElement("input");return t.type="text",t.value=e,t.spellcheck=!1,t.setAttribute("readonly","readonly"),o.appendChild(t),o}function crearShade(e,o){var t=7;if(void 0!=o){var r=o.getElementsByTagName("div");r.length>=t&&o.removeChild(r[t-1]);var n=crearColor(e,o);o.insertBefore(n,r[0])}}function setCookie(e,o,t){var r=new Date;r.setTime(r.getTime()+864e5*t);var n="expires="+r.toUTCString();document.cookie=e+"="+o+"; "+n}function getCookie(e){for(var o=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var n=t[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return""}function checkCookies(){for(var e,o,t=5;t>=0;t--)o=getCookie("savedColor"+t),""!=o?guardarColor(o,obtenerID("saved-colors")):(e=[numAleatorio(0,255),numAleatorio(0,255),numAleatorio(0,255)],guardarColor(RGBtoHEX(e),obtenerID("saved-colors")))}function insertarCookie(e){for(var o,t=5;t>0;t--)o=getCookie("savedColor"+(t-1)),setCookie("savedColor"+t,o,30);setCookie("savedColor0",e,30)}function numAleatorio(e,o){return Math.round(Math.random()*(o-e)+e)}function createTextareaField(e,o,t){var r=document.createElement("input");r.value=o,r.setAttribute("id",e),r.setAttribute("type","text"),r.spellcheck=!1,t.appendChild(r)}function main(){var e=[360,0,1],o=[255,255,255],t="FFFFFF",r=[0,0,1],n=!1,a=!1;pickboardHeight=obtenerID("pickboard").clientHeight,huebarHeight=obtenerID("huebar").clientHeight,o=[numAleatorio(0,255),numAleatorio(0,255),numAleatorio(0,255)],e=RGBtoHSV(o),t=RGBtoHEX(o),oldColor(o,!1),salidaColor(e,o,t);var i=function(r){var n=getPosSquare(r);pointerPosition(n[0],n[1]),e[1]=n[0]/pickboardHeight,e[2]=1-n[1]/pickboardHeight,o=HSVtoRGB(e),t=RGBtoHEX(o),mostrarColores(e,o,t)};obtenerID("pickboard").onmousedown=function(e){i(e),document.body.className+=" non-selectable ",window.addEventListener("mousemove",__pos=function(e){i(e)}),window.addEventListener("mouseup",quitar=function(){s(),window.removeEventListener("mousemove",__pos)})};var l=function(r){var n=getPosHue(r);selectorPosition(n),e[0]=360-n/huebarHeight*360,o=HSVtoRGB(e),t=RGBtoHEX(o),mostrarColores(e,o,t)};obtenerID("huebar").onmousedown=function(e){l(e),document.body.className+=" non-selectable ",window.addEventListener("mousemove",__posHue=function(e){l(e)}),window.addEventListener("mouseup",quitar=function(){s(),window.removeEventListener("mousemove",__posHue)})};for(var s=function(){oldColor(o,n),document.body.className=document.body.className.replace(" non-selectable ",""),obtenerID("hex").select(),window.removeEventListener("mouseup",quitar)},u=obtenerID("inputs").getElementsByTagName("input"),c=0;c<u.length;c++)u[c].onchange=function(){oldColor(o,n);var r=parseInt(this.value,10);switch(this.id){case hueId:e[0]=r,o=HSVtoRGB(e),t=RGBtoHEX(o);break;case satId:e[1]=r/100,o=HSVtoRGB(e),t=RGBtoHEX(o);break;case valId:e[2]=r/100,o=HSVtoRGB(e),t=RGBtoHEX(o);break;case redId:o[0]=r,r=o[1];case greenId:o[1]=r,r=o[2];case blueId:o[2]=r,e=RGBtoHSV(o),t=RGBtoHEX(o);break;case hexId:t=this.value,6==t.length?(t=t.toUpperCase(),o=HEXtoRGB(t),e=RGBtoHSV(o)):3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2),t=t.toUpperCase(),o=HEXtoRGB(t),e=RGBtoHSV(o))}salidaColor(e,o,t)};obtenerID("rw-attach").onclick=function(){var r=obtenerID("attached-code");oldColor(o,n),n=!n,oldColor(o,n),this.classList.toggle("rw-button-active"),n?(r.innerText="#"+t,makeVisible(r),r.style.color="#"+(e[2]>.6&&e[1]<.6?"444":t)):makeInvisible(r)},obtenerID("rw-invert").onclick=function(){oldColor(o,n),o=invertRGB(o),e=RGBtoHSV(o),t=RGBtoHEX(o),salidaColor(e,o,t),obtenerID("hex").select()},obtenerID("rw-random").onclick=function(){oldColor(o,n),o=[numAleatorio(0,255),numAleatorio(0,255),numAleatorio(0,255)],e=RGBtoHSV(o),t=RGBtoHEX(o),salidaColor(e,o,t),obtenerID("hex").select()},obtenerID("rw-websafe").onclick=function(){var r=obtenerID("safeColor");this.classList.toggle("rw-button-active"),a=!a,a?makeVisible(r):makeInvisible(r),r.onmousedown=function(){return oldColor(o,n),o=webSafeColor(o),e=RGBtoHSV(o),t=RGBtoHEX(o),salidaColor(e,o,t),obtenerID("hex").select(),!1}},obtenerID("rw-codes").onclick=function(){r=hsv2hsl(e[0],e[1],e[2]),rellenarCodigosGenerados(o,e,t,r)};var d=function(){for(var r=obtenerID("saved-colors").getElementsByTagName("div"),a=0;a<r.length;a++)r[a].onclick=function(){var r=this.getElementsByTagName("input")[0];oldColor(o,n),t=r.value,o=HEXtoRGB(t),e=RGBtoHSV(o),salidaColor(e,o,t),r.select()}};checkCookies(),d(),obtenerID("rw-fav").onclick=function(){guardarColor(t,obtenerID("saved-colors")),insertarCookie(t),d()}}var pickboardHeight=256,huebarHeight=256,redId="red",greenId="green",blueId="blue",hueId="hue",satId="saturation",valId="value",hexId="hex";window.onload=main;
